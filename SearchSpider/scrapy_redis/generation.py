from SearchSpider.scrapy_redis.account import account_datafrom SearchSpider.scrapy_redis.LoginWeibo import *from SearchSpider.scrapy_redis.storage import RedisClientclass Generator(object):    # 初始化一个对象，并生成两个db    def __init__(self, website="weibo"):        self.website = website        self.cookies_db = RedisClient('cookies', self.website)        self.accounts_db = RedisClient('accounts', self.website)    # 将account文件中的所有账户密码信息存至redis数据库中    def set_all_account_info(self):        for account_info in account_data:            username = account_info["account_username"]            password = account_info["password"]            result = self.accounts_db.set(username, password)            print('账号', username, '密码', password)            print('录入成功' if result else '录入失败')    # 将redis数据库中的所有账户信息请求到cookies并存入redis数据库    def set_all_cookies_info(self):        for account in self.accounts_db.username():            password = self.accounts_db.get(account)            cookies = get_cookies(username=account, password=password)            if cookies:                result = self.cookies_db.set(username=account, value=cookies)                print('账号', account, 'Cookies', password)                print('录入成功' if result else '录入失败')            else:                print("Cookies为空")                continue    def set_one_cookies_info(self, username):        password = self.accounts_db.get(username)        cookies = get_cookies(username=username, password=password)        if cookies:            result = self.cookies_db.set(username=username, value=cookies)            print('账号', username, 'Cookies', password)            print('录入成功' if result else '录入失败')        else:            print("Cookies为空")    def del_wrong_account_info(self, username):        self.accounts_db.delete(username)    def del_useless_cookies_info(self, username):        self.cookies_db.delete(username)